<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>async_await</title>
</head>
<body>
  <script>
    // await后面是普通的同步代码
    // async function testOne() {
    //   console.log('start');
    //   let awaitValue = await 100;
    //   console.log(awaitValue);
    //   console.log('end');
    // }

    // testOne();
    /* 输出值 */
    // start
    // 100
    // end

    // console.log('---------------------- 分割线 ---------------------------')

    // await后面是延时执行的代码
    function delayFunc() {
      return new Promise((resolve, reject) => {
        setTimeout(() => {
          reject(2333);
        }, 2000)
      });
    }

    async function testTwo() {
      console.log('start');
      let awaitValue = await delayFunc().catch((err) => {
        console.log(err);
      });
      console.log('end');

      return awaitValue;
    }

    testTwo().then((res) => {
      console.log(res);
    });
  </script>
</body>
</html>