# 环境

- Windows 10
- VSCode 1.46.0
- @vue/cli 4.4.4
- VSCode ESlint Plugin 2.1.5

# 具体步骤
本规则建立在@vue/cli 4.4.4的基础上，所以创建项目需要官方的脚手架工具，理论上来说@vue/cli 4.x以上的版本生成的项目均适用。

- 创建项目

  使用@vue/cli创建目录架构，需要选择linter / formatter选项，然后选择ESLint+Prettier选项，之后的lint on save和lint and fix on commit。这样在运行和git commit的时候都会进行代码风格的校验。

- 配置VSCode

  1、下载安装插件ESLint。
  2、找到settings.json（配置文件），添加一个选项
  ```
  "editor.codeActionsOnSave": {
    "source.fixAll": true
  }
  ```
  这样在你保存文件时自动修复代码风格（能修复的）。
  3、缩进使用两个空格（tab键）
  ```
  "editor.tabSize": 2
  ```

  具体配置如下：
  ```
    {
      "editor.tabSize": 2,
      "editor.wordSeparators": "`~!@#$%^&*()=+[{]}\\|;:'\",.<>/?",
      // 在默认不受支持的语言中启用 Emmet 缩写。在此语言和 emmet 支持的语言之间添加映射。 
      // 例如: {"vue-html": "html", "javascript": "javascriptreact"}
      "emmet.includeLanguages": {
        "vue-html": "html",
        "javascript": "javascriptreact" // JSX里面VSCode可以补全html
      },
      // 在键入时可显示建议
      "editor.quickSuggestions": {
        "strings": true
      },
      // 保存代码时自动修复（ESLint）
      "editor.codeActionsOnSave": {
        "source.fixAll": true
      }
    }
  ```

  4、其他你需要的VSCode插件

  - Vetur Vue官方出品的针对vue的工具，方便开发

- 自定义风格

  目前都是用的ESLint + Prettier + Vue官方的代码风格，如果需要自行配置规则需要到.eslintre.js下自行配置。

  比如Prettier官方的风格时字符串使用双引号，但是我们可以启用单引号规则
  ```
    'prettier/prettier': [
      'error',
      {
        singleQuote: true
      }
    ],
  ```
  上面跟Prettier相关的规则需要这样书写。

- CSS的代码风格配置（暂时使用Prettier那套）

  可以使用stylelint来专门规范CSS，

# 自定义风格

这里的自定义风格指没按照默认的规则来，比如我们习惯使用单引号等

## 单引号

```
'prettier/prettier': [
  'error',
  {
    singleQuote: true
  }
],
```

[可配置规则列表](https://prettier.io/docs/en/options.html)

# 规范细则
目前这套规则主要时针对Vue的代码规范，规范主要是做补充以及根据目前开发的习惯做了微调，其他的规则全部由ESLint和Prettier来规范。

## 1、几种命名规则
### 大驼峰式命名法（Pascal Case）
这种命名方法名字的首字母是大写的
```
eg:
UserName, HelloWorld
```
### 小驼峰式命名法（Camel Case）
这种命名方法名字的首字母是小写的
```
eg:
userName, helloWorld
```
### 短横线式命名法（kebab-case）
这种命名方法是单词之间是用短横线隔开的
```
eg:
user-name hello-world
```

## 2、文件（文件夹）命名

文件（文件夹）都统一使用短横线式命名法，**注意：React组件和Vue的公共组件不适用这个规则**，这个另外讨论。

```

eg
// 文件夹命名
my-web-project
// 文件命名
my-tools.js
my-global.css
my-index.html
......

```

> 文件夹命名时，有复数结构时，要采用复数命名法。`views, assets, directives, components, mixins, utils`。

> 使用短横线式命名法是为了尽可能避免linux上因大小写的敏感引起的问题。例如，你的文件命名是"xxYy"，但是你引入的时候用"xxYy" "xxyy" "XXYY" 一类在windows上都是能正常引入的；但是在linux机器上，对文件命名的大小写是敏感的，也就意味着，你的命名是"xxYy"，那么就只是使用"xxYy"才能正常引入，而其他的诸如"XXYY"都会报引用错误。

## 3、HTML
### class和id属性的命名
- class的命名使用短线隔开
```
eg:
<li class="list-item"></li>
```

- id的命名使用小驼峰
```
eg:
<p id="itemText"></p>
```

## 4、CSS
- 选择器和花括号之间隔一个空格，属性与属性值之间相隔一个空格

```
eg
.nav-list {
  font-size: 14px;
}
```

- 选择器不要超过三级
```
eg
// good
.nav-list .item .text{ // 刚好3级
  background-color: red;
}

// bad
.all-wraper .box .nav-list .item .text { // 选择器超过3级
  background-color: red;
}
```

> 注意：如果你使用了scss或less等预处理器，那么也要考虑嵌套不要超过三级

## 5、JavaScript
- 使用ES6的规则来声明变量
```
let a = 2;

// 不变的变量使用const
const b = 34;
```
- 字符串统一使用单引号
```
eg
let str = 'hello world';
```

- 语句结束统一使用分号
```
eg
let str = 'hello world';
```

## 6、Vue

# 参考资料

关于代码风格和规范可供参考的文章

[if 我是前端团队 Leader，怎么制定前端协作规范?](https://juejin.im/post/5d3a7134f265da1b5d57f1ed)

[制定自己团队的前端开发规范](https://juejin.im/post/5d300e0fe51d4577407b1dff)

[ESLint与Prettier的区别](https://zhuanlan.zhihu.com/p/80574300)